{"version":3,"sources":["webpack:///./src/views/light/index/Index.vue","webpack:///./src/components/light/Header.vue","webpack:///./src/components/light/Header.vue?428b","webpack:///./src/components/light/Footer.vue","webpack:///./src/components/light/Badge.vue","webpack:///./src/components/light/Badge.vue?18ae","webpack:///./src/components/light/Footer.vue?9e85","webpack:///./src/views/light/index/Index.vue?b98d","webpack:///./src/utils/useTools.js","webpack:///./src/components/light/Icon.vue","webpack:///./src/components/light/Icon.vue?a80c"],"names":["class","header","store","state","light","render","to","name","count","formatCount","props","type","Number","components","Icon","Badge","myBooks","reduce","sum","currentValue","async","hideLoading","useTools","dispatch","then","res","Header","Footer","timer","showLoading","delay","setTimeout","commit","key","value","clearTimeout","className","handleClick","String","default","emits","emit"],"mappings":"kJACOA,MAAM,U,iMAAX,yBAIM,MAJN,EAIM,CAHJ,yBAAiB,GACjB,yBAA2B,GAC3B,yBAAiB,K,SCHdA,MAAM,Y,wDAAX,yBAAwC,MAAxC,EAAwC,6BAAf,EAAAC,QAAM,G,gBAOlB,GACb,QACE,MAAMC,EAAQ,iBAERD,EAAS,sBAAS,IAAMC,EAAMC,MAAMC,MAAMH,QAEhD,MAAO,CACLA,YCZN,EAAOI,OAAS,EAED,Q,SCJRL,MAAM,Y,EAGP,yBAAmC,OAA9BA,MAAM,iBAAgB,MAAE,G,EAM7B,yBAAmC,OAA9BA,MAAM,iBAAgB,MAAE,G,EAI7B,yBAAmC,OAA9BA,MAAM,iBAAgB,MAAE,G,8LAbjC,yBAeM,MAfN,EAeM,CAdJ,yBAGc,GAHDM,GAAG,oBAAoBN,MAAM,iB,8BACxC,IAA0C,CAA1C,yBAA0C,GAApCO,KAAK,OAAOP,MAAM,kBACxB,I,MAEF,yBAKc,GALDM,GAAG,wBAAwBN,MAAM,iB,8BAC5C,IAEQ,CAFR,yBAEQ,GAFAQ,MAAO,EAAAA,OAAK,C,6BAClB,IAA4C,CAA5C,yBAA4C,GAAtCD,KAAK,SAASP,MAAM,oB,kBAE5B,I,MAEF,yBAGc,GAHDM,GAAG,kBAAkBN,MAAM,iB,8BACtC,IAAwC,CAAxC,yBAAwC,GAAlCO,KAAK,KAAKP,MAAM,kBACtB,I,iCCbCA,MAAM,gB,wDAAX,yBAGM,MAHN,EAGM,CAFJ,wBAAa,oB,4BACb,yBAAuE,QAAjEA,MAAM,WAAS,6BAA8B,EAAAS,aAAW,M,YAArB,IAAX,EAAAA,iBAOnB,OACbC,MAAO,CACLF,MAAO,CACLG,KAAMC,SAGV,MAAMF,GAEJ,MAAMD,EAAc,sBAAS,KAC3B,MAAM,MAAED,GAAUE,EAClB,OAAOF,EAAQ,GAAK,MAAQA,IAG9B,MAAO,CACLC,iBCrBN,EAAOJ,OAAS,EAED,Q,YFqBA,GACbQ,WAAY,CACVC,OAAA,KACAC,SAEF,QACE,MAAMb,EAAQ,iBACRM,EAAQ,sBAAS,IACrBN,EAAMC,MAAMC,MAAMY,QAAQC,OACxB,CAACC,EAAKC,IAAiBD,EAAMC,EAAaX,MAC1C,IAUJ,OANA,uBAAUY,UACR,MAAM,YAAEC,GAAgB,OAAAC,EAAA,QACxBpB,EAAMqB,SAAS,CAAEZ,KAAM,eAAgBa,KAAMC,IAC3CJ,QAGG,CACLb,WG5CN,EAAOH,OAAS,EAED,QNOA,GACbQ,WAAY,CACVa,SACAC,WOZJ,EAAOtB,OAASA,EAED,gB,kCCLf,gBAEe,YACb,IAAIuB,EAEJ,MAAMC,EAAc,CAACC,EAAQ,KAC3BF,EAAQG,WAAW,KACjB7B,OAAM8B,OAAO,CAAErB,KAAM,gBAAiBsB,IAAK,YAAaC,OAAO,KAC9DJ,IAGCT,EAAc,KAClBc,aAAaP,GACb1B,OAAM8B,OAAO,CAAErB,KAAM,gBAAiBsB,IAAK,YAAaC,OAAO,KAGjE,MAAO,CACLL,cACAR,iB,0GCjBF,yBAGQ,QAFLrB,MAAK,sBAAwB,EAAAO,QAAQ,EAAA6B,YACrC,QAAK,oBAAE,EAAAC,aAAA,EAAAA,eAAA,K,QAKG,OACb3B,MAAO,CACLH,KAAM,CACJI,KAAM2B,OACNC,QAAS,IAEXH,UAAW,CACTzB,KAAM2B,OACNC,QAAS,KAGbC,MAAO,CAAC,WACR,MAAM9B,GAAO,KAAE+B,IACb,MAAMJ,EAAc,KAClBI,EAAK,YAGP,MAAO,CACLJ,iBCvBN,EAAOhC,OAASA,EAED","file":"js/chunk-76121d06.cd68d817.js","sourcesContent":["<template>\r\n  <div class=\"m-wrap\">\r\n    <Header></Header>\r\n    <router-view></router-view>\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '../../../components/light/Header'\r\nimport Footer from '../../../components/light/Footer'\r\n\r\nexport default {\r\n  components: {\r\n    Header,\r\n    Footer\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","<template>\r\n  <div class=\"m-header\">{{ header }}</div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\"\r\nimport { useStore } from \"vuex\"\r\n\r\nexport default {\r\n  setup() {\r\n    const store = useStore()\r\n\r\n    const header = computed(() => store.state.light.header)\r\n\r\n    return {\r\n      header,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import { render } from \"./Header.vue?vue&type=template&id=73149b9e\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div class=\"m-footer\">\r\n    <router-link to=\"/light/index/home\" class=\"m-footer-item\">\r\n      <Icon name=\"home\" class=\"m-footer-icon\" />\r\n      <div class=\"m-footer-text\">首页</div>\r\n    </router-link>\r\n    <router-link to=\"/light/index/my_books\" class=\"m-footer-item\">\r\n      <Badge :count=\"count\">\r\n        <Icon name=\"shubao\" class=\"m-footer-icon\" />\r\n      </Badge>\r\n      <div class=\"m-footer-text\">书包</div>\r\n    </router-link>\r\n    <router-link to=\"/light/index/me\" class=\"m-footer-item\">\r\n      <Icon name=\"me\" class=\"m-footer-icon\" />\r\n      <div class=\"m-footer-text\">我的</div>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Icon from \"./Icon\"\r\nimport Badge from \"./Badge\"\r\nimport { computed, onMounted } from \"vue\"\r\nimport { useStore } from \"vuex\"\r\nimport useTools from '../../utils/useTools'\r\n\r\nexport default {\r\n  components: {\r\n    Icon,\r\n    Badge,\r\n  },\r\n  setup() {\r\n    const store = useStore()\r\n    const count = computed(() =>\r\n      store.state.light.myBooks.reduce(\r\n        (sum, currentValue) => sum + currentValue.count,\r\n        0\r\n      )\r\n    )\r\n\r\n    onMounted(async () => {\r\n      const { hideLoading } = useTools()\r\n      store.dispatch({ type: \"getMyBooks\" }).then((res) => {\r\n        hideLoading()\r\n      })\r\n    })\r\n    return {\r\n      count,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","<template>\r\n  <div class=\"m-badge-wrap\">\r\n    <slot></slot>\r\n    <span class=\"m-badge\" v-show=\"formatCount !== 0\">{{formatCount}}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue'\r\n\r\nexport default {\r\n  props: {\r\n    count: {\r\n      type: Number\r\n    },\r\n  },\r\n  setup(props) {\r\n\r\n    const formatCount = computed(() => {\r\n      const { count } = props\r\n      return count > 99 ? '99+' : count\r\n    })\r\n\r\n    return {\r\n      formatCount\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./Badge.vue?vue&type=template&id=28c87c45\"\nimport script from \"./Badge.vue?vue&type=script&lang=js\"\nexport * from \"./Badge.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Footer.vue?vue&type=template&id=3e0d67f2\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Index.vue?vue&type=template&id=e6b012ba\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import store from '../store'\r\n\r\nexport default () => {\r\n  let timer\r\n\r\n  const showLoading = (delay = 0) => {\r\n    timer = setTimeout(() => {\r\n      store.commit({ type: 'setLightState', key: 'isLoading', value: true })\r\n    }, delay)\r\n  }\r\n\r\n  const hideLoading = () => {\r\n    clearTimeout(timer)\r\n    store.commit({ type: 'setLightState', key: 'isLoading', value: false })\r\n  }\r\n\r\n  return {\r\n    showLoading,\r\n    hideLoading,\r\n  }\r\n}","<template>\r\n  <span\r\n    :class=\"`icon iconfont icon-${name} ${className}`\"\r\n    @click=\"handleClick\"\r\n  ></span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    name: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    className: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  emits: [\"onClick\"],\r\n  setup(props, { emit }) {\r\n    const handleClick = () => {\r\n      emit(\"onClick\")\r\n    }\r\n\r\n    return {\r\n      handleClick,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import { render } from \"./Icon.vue?vue&type=template&id=47d088d7\"\nimport script from \"./Icon.vue?vue&type=script&lang=js\"\nexport * from \"./Icon.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}